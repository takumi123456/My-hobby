<div class="section">
  <h2>みーぱん</h2>
  <div class="gray-box">
    <ul style="list-style: none; padding: 0;">
      <li>
        <img src="みーぱん.jpg" alt="櫻坂46・日向坂46のライブ観戦" width="200" style="border-radius: 8px;">
      </li>
    </ul>
  </div>
</div>
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>ライブ参戦歴</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#f7f7f7; --card:#fff; --text:#222; --muted:#666; --line:#e5e7eb; }
    body { margin:0; background:var(--bg); color:var(--text); font:14px/1.6 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", "Helvetica Neue", Arial, sans-serif; }
    .wrap { max-width:1000px; margin:32px auto; padding:0 16px; }
    h1 { font-size:22px; margin:0 0 12px; }
    .controls { display:flex; gap:12px; align-items:center; margin:0 0 16px; }
    .controls input { flex:1; padding:10px 12px; border:1px solid var(--line); border-radius:8px; background:#fff; }
    .card { background:var(--card); border:1px solid var(--line); border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.04); overflow:auto; }
    table { width:100%; border-collapse:separate; border-spacing:0; min-width:720px; }
    thead th { position:sticky; top:0; background:#fafafa; z-index:1; }
    th, td { padding:10px 12px; border-bottom:1px solid var(--line); text-align:left; white-space:nowrap; }
    tbody tr:nth-child(odd){ background:#fcfcfc; }
    th.sortable { cursor:pointer; user-select:none; }
    th.sortable::after { content:" ↕"; color:var(--muted); font-weight:normal; }
    .meta { color:var(--muted); font-size:12px; margin:8px 0 16px; }
    @media (max-width:640px){
      th, td { padding:8px 10px; }
      .controls { flex-direction:column; align-items:stretch; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ライブ参戦歴</h1>
    <div class="meta">ヘッダークリックで並べ替え／検索で絞り込みできます。</div>
    <div class="controls">
      <input id="q" type="search" placeholder="キーワードで検索（例：櫻坂 大阪 2024-03 ひな誕祭）">
    </div>

    <div class="card">
      <table id="liveTable">
        <thead>
          <tr>
            <th class="sortable" data-key="日付">日付</th>
            <th class="sortable" data-key="会場">会場</th>
            <th class="sortable" data-key="アーティスト">アーティスト</th>
            <th class="sortable" data-key="タイトル">ライブタイトル</th>
            <th class="sortable" data-key="メモ">メモ</th>
          </tr>
        </thead>
        <tbody>
          <!-- 2021 -->
          <tr><td>2021-09-29</td><td>大阪</td><td>日向坂46</td><td>全国おひさま化計画</td><td>初ライブ参加</td></tr>
          <tr><td>2021-10-29</td><td>大阪</td><td>櫻坂46</td><td>1st TOUR 2021</td><td></td></tr>
          <!-- 2022 -->
          <tr><td>2022-07-21</td><td>山梨（富士急ハイランド）</td><td>日向坂46／櫻坂46</td><td>W-KEYAKI FES.2022</td><td></td></tr>
          <tr><td>2022-09-18</td><td>兵庫</td><td>日向坂46</td><td>Happy Smile Tour 2022</td><td></td></tr>
          <tr><td>2022-09-29</td><td>大阪</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-10-05</td><td>広島</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-10-06</td><td>広島</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-10-18</td><td>神奈川</td><td>日向坂46</td><td>Happy Smile Tour 2022</td><td></td></tr>
          <tr><td>2022-10-25</td><td>福岡</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-10-26</td><td>福岡</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-11-08</td><td>東京</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-11-09</td><td>東京</td><td>櫻坂46</td><td>2nd TOUR 2022 “As you know?”</td><td></td></tr>
          <tr><td>2022-12-08</td><td>東京</td><td>櫻坂46</td><td>2nd YEAR ANNIVERSARY ～Buddies 感謝祭～</td><td></td></tr>
          <!-- 2023 -->
          <tr><td>2023-03-05</td><td>神奈川</td><td>櫻坂46</td><td>三期生「おもてなし会」</td><td></td></tr>
          <tr><td>2023-03-23</td><td>大阪（USJ）</td><td>櫻坂46</td><td>ユニ春！ライブ</td><td></td></tr>
          <tr><td>2023-05-31</td><td>大阪</td><td>櫻坂46</td><td>3rd TOUR 2023</td><td></td></tr>
          <tr><td>2023-06-01</td><td>大阪</td><td>櫻坂46</td><td>3rd TOUR 2023</td><td></td></tr>
          <tr><td>2023-08-30</td><td>大阪</td><td>日向坂46</td><td>Happy Train Tour 2023</td><td></td></tr>
          <tr><td>2023-08-31</td><td>大阪</td><td>日向坂46</td><td>Happy Train Tour 2023</td><td></td></tr>
          <tr><td>2023-12-10</td><td>神奈川</td><td>日向坂46</td><td>Happy Train Tour 2023</td><td></td></tr>
          <!-- 2024 -->
          <tr><td>2024-03-12</td><td>大阪</td><td>櫻坂46</td><td>4th ARENA TOUR 2024 新・櫻前線 -Go on back?-</td><td></td></tr>
          <tr><td>2024-03-13</td><td>大阪</td><td>櫻坂46</td><td>4th ARENA TOUR 2024 新・櫻前線 -Go on back?-</td><td></td></tr>
          <tr><td>2024-04-07</td><td>神奈川</td><td>日向坂46</td><td>5回目のひな誕祭</td><td></td></tr>
          <tr><td>2024-05-10</td><td>千葉</td><td>櫻坂46</td><td>8th Single BACKS LIVE!!</td><td></td></tr>
          <tr><td>2024-10-08</td><td>大阪</td><td>櫻坂46</td><td>三期生ライブ</td><td></td></tr>
          <tr><td>2024-10-09</td><td>大阪</td><td>櫻坂46</td><td>三期生ライブ</td><td></td></tr>
          <tr><td>2024-11-19</td><td>兵庫</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <tr><td>2024-11-20</td><td>兵庫</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <tr><td>2024-12-04</td><td>福岡</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <tr><td>2024-12-05</td><td>福岡</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <tr><td>2024-12-10</td><td>愛知</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <tr><td>2024-12-11</td><td>愛知</td><td>日向坂46</td><td>Happy Magical Tour 2024</td><td></td></tr>
          <!-- 2025 -->
          <tr><td>2025-01-25</td><td>千葉</td><td>日向坂46</td><td>東村芽依 卒業セレモニー</td><td></td></tr>
          <tr><td>2025-04-05</td><td>神奈川</td><td>日向坂46</td><td>6回目のひな誕祭(佐々木美玲卒業セレモニー）</td><td></td></tr>
          <tr><td>2025-04-06</td><td>神奈川</td><td>日向坂46</td><td>6回目のひな誕祭</td><td></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // 検索（全列フリーテキスト）
    const q = document.getElementById('q');
    const table = document.getElementById('liveTable');
    const tbody = table.querySelector('tbody');

    q.addEventListener('input', () => {
      const kw = q.value.trim().toLowerCase();
      for (const tr of tbody.rows) {
        const joined = Array.from(tr.cells).map(td => td.textContent.toLowerCase()).join(' ');
        tr.style.display = joined.includes(kw) ? '' : 'none';
      }
    });

    // 並べ替え
    const getCellValue = (tr, idx) => tr.children[idx].textContent;
    let sortState = { index: 0, asc: true };

    table.querySelectorAll('th.sortable').forEach((th, index) => {
      th.addEventListener('click', () => {
        const rows = Array.from(tbody.querySelectorAll('tr')).filter(r => r.style.display !== 'none');
        const isDate = th.dataset.key === '日付';
        const asc = sortState.index === index ? !sortState.asc : true;

        rows.sort((a, b) => {
          let A = getCellValue(a, index);
          let B = getCellValue(b, index);
          if (isDate) { // ISO日付なので文字列比較でもOKだが一応Date化
            A = new Date(A);
            B = new Date(B);
            return asc ? A - B : B - A;
          } else {
            return asc ? A.localeCompare(B, 'ja') : B.localeCompare(A, 'ja');
          }
        });

        // 並び替え反映
        rows.forEach(r => tbody.appendChild(r));
        sortState = { index, asc };
      });
    });
  </script>
</body>
</html>
